<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:Waveface.Client" 
     xmlns:fw="clr-namespace:Waveface.ClientFramework;assembly=Waveface.ClientFramework"
       xmlns:wvmodel="clr-namespace:Waveface.Model;assembly=Waveface.Model"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:ed="http://schemas.microsoft.com/expression/2010/drawing" mc:Ignorable="d"
    x:Class="Waveface.Client.MainWindow"
        Title="Favorite" Height="498.5" Width="807" Loaded="Window_Loaded" KeyDown="Window_KeyDown" WindowState="Maximized">

    <Window.Resources>
        <!--<DataTemplate DataType="{x:Type wvmodel:Service}">
            <Label Content="{Binding Name}" Foreground="White" Height="40" VerticalContentAlignment="Center"/>
        </DataTemplate>-->


        <!-- Photo Template -->
        <DataTemplate DataType="{x:Type wvmodel:ContentGroup}">
            <local:GroupContentItem Padding="10"/>
        </DataTemplate>

        <!-- Photo Template -->
        <DataTemplate DataType="{x:Type wvmodel:Content}">
            <local:ContentItem x:Name="content" RenderTransformOrigin="0.5,0.5" Padding="10" TagStatusChanged="content_TagStatusChanged" PreviewMouseRightButtonDown="content_PreviewMouseRightButtonDown">
                <local:ContentItem.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform/>
                        <TranslateTransform/>
                    </TransformGroup>
                </local:ContentItem.RenderTransform>
            </local:ContentItem>
        </DataTemplate>



        <!-- Labeled photo catalog view -->
        <!--<Style TargetType="{x:Type ListBox}" x:Key="LabledPhotoListBoxStyle">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ListBox}" >
                        <WrapPanel Margin="5" IsItemsHost="True" Orientation="Horizontal" 
                        ItemHeight="120" 
                       ItemWidth="120"
                       VerticalAlignment="Top" HorizontalAlignment="Stretch" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>-->

        <!-- Main photo catalog view -->
        <Style TargetType="{x:Type ListBox}" x:Key="PhotoListBoxStyle">
        	<Setter Property="Foreground" Value="White" />
        	<Setter Property="Template">
        		<Setter.Value>
        			<ControlTemplate TargetType="{x:Type ListBox}" >
        				<WrapPanel Margin="5" IsItemsHost="True" Orientation="Horizontal" 
        					ItemHeight="{Binding Value, ElementName=ZoomSlider}"  
        					ItemWidth="{Binding Value, ElementName=ZoomSlider}" 
        					VerticalAlignment="Top" HorizontalAlignment="Stretch" />
        			</ControlTemplate>
        		</Setter.Value>
        	</Setter>
        </Style>
		

        <!-- Style for an individual generic item -->
        <Style TargetType="{x:Type ListBoxItem}">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ListBoxItem}" >
                        <Border SnapsToDevicePixels="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="{TemplateBinding Background}">
                            <ContentPresenter />
                        </Border>
                        <ControlTemplate.Triggers>
                    		<Trigger Property="Selector.IsSelected" Value="True">
                    			<Setter Property="Background" Value="#445B6249"/>
                    		</Trigger>
                    	</ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <LinearGradientBrush x:Key="TitleBarBackground" EndPoint="0.5,1" StartPoint="0.5,0">
        	<GradientStop Color="#FF1E1E1F" Offset="1"/>
        	<GradientStop Color="#FF323232"/>
        </LinearGradientBrush>
        <SolidColorBrush x:Key="ContentAreaBackground" Color="#FF1F1F1F"/>
        <SolidColorBrush x:Key="SidePanelBackground" Color="#FF2A2A2B"/>
        <SolidColorBrush x:Key="ButtonBackground" Color="#FF7F7F7F"/>
        <SolidColorBrush x:Key="ButtonForeground" Color="White"/>

		 <Style TargetType="{x:Type Thumb}">
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Image Source="btn.png" Width="20" Height="20"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

	<Style TargetType="{x:Type RepeatButton}">
<Setter Property="OverridesDefaultStyle" Value="true"/>
<Setter Property="IsTabStop" Value="false"/>
<Setter Property="Focusable" Value="false"/>
<Setter Property="Template">
<Setter.Value>
<ControlTemplate TargetType="{x:Type RepeatButton}">
<Rectangle Fill="Transparent"/>
</ControlTemplate>
</Setter.Value>
</Setter>
</Style>

	<Style TargetType="{x:Type Slider}">
<Setter Property="Template">
<Setter.Value>
<ControlTemplate TargetType="{x:Type Slider}">
<Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}"><Grid>
<Grid.RowDefinitions>
<RowDefinition Height="Auto"/>
<RowDefinition Height="Auto" MinHeight="{TemplateBinding MinHeight}"/>
<RowDefinition Height="Auto"/>
</Grid.RowDefinitions>
<TickBar x:Name="TopTick" Visibility="Collapsed" Fill="{TemplateBinding Foreground}" Placement="Top" Height="4" Grid.Row="0"/>
<TickBar x:Name="BottomTick" Visibility="Collapsed" Fill="{TemplateBinding Foreground}" Placement="Bottom" Height="4" Grid.Row="0"/>
<Border x:Name="TrackBackground"  
 BorderThickness="1" CornerRadius="1"
 Margin="5,0" VerticalAlignment="Center" Height="4.0" Grid.Row="1" >
	<Canvas Margin="-6,-1">
		<Rectangle Visibility="Hidden" x:Name="PART_SelectionRange" Height="4.0"
			Fill="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"
			Stroke="{DynamicResource {x:Static SystemColors.ControlDarkDarkBrushKey}}"
			StrokeThickness="1.0"/>
	</Canvas>
</Border>
<Track x:Name="PART_Track" Grid.Row="1" Margin="5,0,5,3">
<Track.DecreaseRepeatButton>
<RepeatButton Command="{x:Static Slider.DecreaseLarge}"/>
</Track.DecreaseRepeatButton>
<Track.IncreaseRepeatButton>
<RepeatButton Command="{x:Static Slider.IncreaseLarge}"/>
</Track.IncreaseRepeatButton>
<Track.Thumb>
<Thumb x:Name="Thumb" Background="Black"/>                                        
</Track.Thumb>
</Track>
</Grid>
</Border>
</ControlTemplate>
</Setter.Value>
</Setter>
</Style>
    </Window.Resources>

	<Grid Background="{DynamicResource ContentAreaBackground}">
		<Grid.RowDefinitions>
			<RowDefinition Height="50"/>
			<RowDefinition Height="302*"/>
			<!--<RowDefinition Height="25"/>-->
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="200"/>
			<ColumnDefinition/>
			<ColumnDefinition Width="150"/>
		</Grid.ColumnDefinitions>
		<Grid Grid.Column="0" Grid.Row="0" Margin="0,0,0,1" Background="{DynamicResource TitleBarBackground}">
			<Grid.Effect>
				<DropShadowEffect ShadowDepth="1" BlurRadius="1" Direction="270"/>
			</Grid.Effect>
			<Image Source="favorite.png" VerticalAlignment="Center" HorizontalAlignment="Left" Stretch="None"/>
		</Grid>
		<Grid Background="#FF5D5D5D" Grid.Column="1" Grid.Row="0" Margin="0,0,0,1">
			<Grid.Effect>
				<DropShadowEffect ShadowDepth="1" BlurRadius="1" Direction="270"/>
			</Grid.Effect>
			<Grid Background="{DynamicResource TitleBarBackground}" Grid.Row="0">
				<DockPanel>

					<WrapPanel VerticalAlignment="Center"  DockPanel.Dock="Left">
						<local:BackButton Content="BackButton" Height="28.666"   VerticalAlignment="Center" Width="28.666" Click="BackButton_Click" Margin="2"/>
						<Label x:Name="lblContentLocation" Content="{Binding Name}" Foreground="White" FontSize="18.667" FontFamily="Segoe UI Light"/>
					</WrapPanel>

				</DockPanel>
			</Grid>
		</Grid>
		<Grid Background="{DynamicResource TitleBarBackground}" Grid.Column="2" Grid.Row="0" Margin="0,0,0,1">
			<Grid.Effect>
				<DropShadowEffect ShadowDepth="1" BlurRadius="1" Direction="270"/>
			</Grid.Effect>
		</Grid>
		<Grid Grid.Column="0" Grid.Row="1" Background="{DynamicResource SidePanelBackground}" >
			<Grid.Effect>
				<DropShadowEffect BlurRadius="1" ShadowDepth="1" Direction="0"/>
			</Grid.Effect>
			<StackPanel>
				<Label Content="Sources" Foreground="#FFA5A5A5" Margin="0,0,0,4" FontFamily="Segoe UI Light"/>
                <local:SourceTree x:Name="lbxDeviceContainer">
                    <local:SourceTree.Resources>
                        <Style TargetType="{x:Type TreeViewItem}">
                            <EventSetter Event="UIElement.PreviewMouseLeftButtonDown" Handler="TreeViewItem_PreviewMouseLeftButtonDown"/>
                        </Style>
                    </local:SourceTree.Resources>
                </local:SourceTree>
            </StackPanel>
		</Grid>

		<Grid Grid.Column="2" Grid.Row="1" Background="{DynamicResource SidePanelBackground}">
			<Grid.Effect>
				<DropShadowEffect BlurRadius="1" ShadowDepth="1" Direction="180"/>
			</Grid.Effect>
			<Button Content="Share" HorizontalAlignment="Left" Height="31" Margin="10,159.333,0,0" VerticalAlignment="Top" Width="130" BorderBrush="{x:Null}" FontFamily="Segoe UI Light" FontSize="16">
				<Button.Background>
					<LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
						<GradientStop Color="#FF616060" Offset="0"/>
						<GradientStop Color="#FF474646" Offset="1"/>
					</LinearGradientBrush>
				</Button.Background>
				<Button.Effect>
					<DropShadowEffect BlurRadius="3" ShadowDepth="2" Direction="270" Opacity="0.3"/>
				</Button.Effect>
			</Button>
			<Label x:Name="lblLabeledCount" HorizontalAlignment="Left" Height="32" Margin="10,12,0,0" Content="{Binding Count}" ContentStringFormat="Labeled {0} photos" VerticalAlignment="Top" Width="130" Foreground="#FFF2F2DA" HorizontalContentAlignment="Center" FontFamily="Segoe UI Light"/>
			<Grid Margin="10,70.667,10,0">

				<Label HorizontalAlignment="Left" Height="25" Margin="66,0,0,0" Content="On     Off" VerticalAlignment="Top" Width="64" Foreground="#FFA5A5A5" HorizontalContentAlignment="Left" FontFamily="Segoe UI Light"/>
				<Label HorizontalAlignment="Left" Height="25" Margin="0,26.667,0,0" Content="On TV" VerticalAlignment="Top" Width="64" Foreground="#FFC1F2DA" HorizontalContentAlignment="Left" FontFamily="Segoe UI Light"/>
				<Label HorizontalAlignment="Left" Height="25" Margin="0,51.667,0,0" Content="On Cloud" VerticalAlignment="Top" Width="64" Foreground="#FFC1F2DA" HorizontalContentAlignment="Left" FontFamily="Segoe UI Light"/>
				<Grid Margin="76.334,32.667,11,28.666">
					<RadioButton Content="RadioButton" HorizontalAlignment="Left" Height="15.334" VerticalAlignment="Top" Width="12.666" RenderTransformOrigin="0.632,-0.174" IsChecked="True"/>
					<RadioButton Content="RadioButton" HorizontalAlignment="Left" Height="15.334" Margin="30,0,0,0" VerticalAlignment="Top" Width="12.666" RenderTransformOrigin="0.632,-0.174"/>

				</Grid>
				<Grid Margin="76.334,57.667,11,3.666">

					<RadioButton Content="RadioButton" HorizontalAlignment="Left" Height="15.334" VerticalAlignment="Top" Width="12.666" RenderTransformOrigin="0.632,-0.174" IsChecked="True"/>
					<RadioButton Content="RadioButton" HorizontalAlignment="Left" Height="15.334" Margin="30,0,0,0" VerticalAlignment="Top" Width="12.666" RenderTransformOrigin="0.632,-0.174"/>


				</Grid>


			</Grid>
			<Label HorizontalAlignment="Left" Height="25" Margin="42,40.667,0,0" Content="X Clear all" VerticalAlignment="Top" Width="64" Foreground="#FFA5A5A5" HorizontalContentAlignment="Left" FontFamily="Segoe UI Light"/>


		</Grid>

		<Grid Grid.Column="1" Grid.Row="1">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="*"/>
					<RowDefinition Height="45"/>
				</Grid.RowDefinitions>
				<ScrollViewer x:Name="svContentContainer" Grid.Row="0" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
					<ListBox x:Name="lbxContentContainer"
						ItemsSource="{Binding IsAsync=True}"
						IsSynchronizedWithCurrentItem="True"
						SelectedIndex="0"
						MouseDoubleClick="OnPhotoClick"
						VirtualizingStackPanel.IsVirtualizing="True" 
						VirtualizingStackPanel.VirtualizationMode="Recycling" BorderBrush="{DynamicResource ContentAreaBackground}">
						<ListBox.Resources>
							<Style TargetType="{x:Type ListBoxItem}" BasedOn="{StaticResource {x:Type ListBoxItem}}">
								<Style.Triggers>
									<DataTrigger Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Self}}" 
										Value="True">
										<Setter Property="IsSelected" Value="True" />
									</DataTrigger>
								</Style.Triggers>
							</Style>
						</ListBox.Resources>
						<ListBox.Style>
							<StaticResource ResourceKey="PhotoListBoxStyle"/>
						</ListBox.Style>
					</ListBox>
				</ScrollViewer>
				<Grid Grid.Row="1" Background="#FF3E3E3E" Margin="0">
					<Slider x:Name="ZoomSlider"
						Width="100"
						Orientation="Horizontal" 
						Minimum="200" 
						Maximum="400" 
						Value="200" 
						TickFrequency="50"
						TickPlacement="None" 
						SmallChange="5"
						LargeChange="20" VerticalAlignment="Center" HorizontalAlignment="Left" BorderThickness="10,0,0,0" >
						<Slider.Background>
							<ImageBrush ImageSource="slider.png"/>
						</Slider.Background>
					</Slider>
					<local:FavoriteAllButton Margin="0,0,10,0" Width="100" Height="30" VerticalAlignment="Center" HorizontalAlignment="Right"/>
				</Grid>
			</Grid>
		</Grid>
	</Grid>
</Window>
